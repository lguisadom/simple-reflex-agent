# Agente Reflejo Simple

Un simulador interactivo de un agente reflejo simple implementado en Python con Pygame. El agente utiliza una tabla de percepci√≥n-acci√≥n para navegar por un entorno bidimensional con obst√°culos, generando reportes detallados de su comportamiento.

## üéØ Caracter√≠sticas Principales

- **Simulaci√≥n Visual**: Interfaz gr√°fica interactiva con Pygame
- **Navegaci√≥n por Teclado**: Todos los men√∫s con navegaci√≥n consistente usando flechas ‚Üë‚Üì
- **M√∫ltiples Modos**: Ejecuci√≥n autom√°tica, paso a paso y modo r√°pido
- **Mapas Configurables**: Diferentes tama√±os y densidades de obst√°culos
- **Selecci√≥n Autom√°tica de Tablas**: Detecci√≥n autom√°tica de tablas CSV con men√∫ gr√°fico
- **Tablas de Reglas**: Sistema de percepci√≥n-acci√≥n basado en CSV
- **Reportes Detallados**: Generaci√≥n autom√°tica de archivos CSV con logs completos
- **Interfaz Unificada**: Todos los men√∫s con indicadores visuales y navegaci√≥n consistente
- **Flechas Direccionales**: Indicadores visuales de orientaci√≥n del agente
- **Organizaci√≥n Mejorada**: Carpeta dedicada para tablas de reglas

## üì∏ Capturas de Pantalla

### Men√∫ de Selecci√≥n de Tablas
![Selecci√≥n de Tablas](img/image1.png)
*Interfaz unificada con navegaci√≥n por teclado y indicadores visuales*

### Configuraci√≥n del Mapa
![Configuraci√≥n del Mapa](img/image2.png)
*Men√∫ de configuraci√≥n con opciones por defecto seleccionadas*

### Simulaci√≥n en Ejecuci√≥n
![Simulaci√≥n Activa](img/image3.png)
*Agente en acci√≥n con panel de informaci√≥n detallado*

## Demo del Agente
![Demo del agente en acci√≥n](img/demo.gif)

### Panel de Informaci√≥n
![Panel de Informaci√≥n](img/image4.png)
*Vista detallada del panel lateral con flechas direccionales*

## üìã Requisitos del Sistema

- **Python**: 3.6 o superior
- **Pygame**: Biblioteca para gr√°ficos y eventos
- **Sistema Operativo**: Windows, macOS o Linux

### Instalaci√≥n de Dependencias

```bash
pip install pygame
```

## üìÅ Estructura del Proyecto

```
agente-reflejo-simple/
‚îú‚îÄ‚îÄ agente.py                 # Programa principal del simulador
‚îú‚îÄ‚îÄ README.md                 # Este archivo
‚îú‚îÄ‚îÄ tablas/                   # Carpeta con tablas de reglas
‚îÇ   ‚îú‚îÄ‚îÄ percepcion-accion.csv     # Tabla de reglas original
‚îÇ   ‚îî‚îÄ‚îÄ percepcion-accion2.csv    # Tabla de reglas alternativa
‚îî‚îÄ‚îÄ salida/                   # Carpeta de archivos CSV generados
    ‚îî‚îÄ‚îÄ salida-YYYYMMDD-HHMMSS.csv
```

## üöÄ C√≥mo Ejecutar

1. **Clona o descarga el proyecto**
2. **Navega al directorio del proyecto**
3. **Ejecuta el simulador**:

```bash
python agente.py
```

## üéÆ Interfaz y Controles

### Configuraci√≥n Inicial
Al iniciar el programa, se presentan tres men√∫s de configuraci√≥n con navegaci√≥n unificada:

#### 1. Selecci√≥n de Tabla de Reglas
El programa detecta autom√°ticamente todas las tablas CSV en la carpeta `tablas/`:

- **‚ñ∫ Tabla Original**: Comportamiento b√°sico (seleccionada por defecto)
- **Tabla Alternativa**: Comportamiento diferente
- **Tablas Personalizadas**: Cualquier archivo CSV que agregues

#### 2. Configuraci√≥n del Mapa
Despu√©s de seleccionar la tabla, configura el tama√±o del mapa:

1. **‚ñ∫ Usar por defecto (11x11)** ‚Üê Seleccionado por defecto
2. **Mediano (15x15)**
3. **Grande (21x21)**
4. **Personalizado (9x9 por defecto)**

#### 3. Selecci√≥n de Modo
Despu√©s de configurar el mapa, elige el modo de ejecuci√≥n:

- **‚ñ∫ Modo AUTOM√ÅTICO** ‚Üê Seleccionado por defecto
- **Modo PASO A PASO**
- **Modo AUTOM√ÅTICO R√ÅPIDO**

### Navegaci√≥n Unificada
**Todos los men√∫s** usan la misma interfaz:
- **Flechas ‚Üë‚Üì**: Navegar entre opciones
- **ENTER**: Seleccionar opci√≥n actual
- **ESC**: Salir/cancelar
- **Indicador visual**: Flecha azul "‚ñ∫" muestra la opci√≥n seleccionada

### Controles Durante la Ejecuci√≥n

| Tecla | Acci√≥n |
|-------|--------|
| `F1` | Cambiar a modo autom√°tico normal |
| `F2` | Cambiar a modo paso a paso |
| `F3` | Cambiar a modo autom√°tico r√°pido |
| `ENTER` | Avanzar un paso (solo en modo paso a paso) |
| `ESC` | Mostrar men√∫ de salida |

### Men√∫ de Salida (ESC)
Al presionar ESC durante la ejecuci√≥n, aparece un men√∫ con navegaci√≥n unificada:

- **‚ñ∫ Reiniciar recorrido del agente** ‚Üê Seleccionado por defecto
- **Volver al men√∫ inicial**
- **Volver al men√∫ de modo**
- **Salir completamente**

**Navegaci√≥n**: Flechas ‚Üë‚Üì + ENTER, o ESC para cancelar

## ‚öôÔ∏è Configuraci√≥n Avanzada

### Gesti√≥n de Tablas de Reglas

#### Selecci√≥n Autom√°tica
El programa detecta autom√°ticamente todas las tablas CSV en la carpeta `tablas/` y te permite seleccionarlas desde un men√∫ gr√°fico.

#### Agregar Nuevas Tablas
1. **Crea tu archivo CSV** siguiendo el formato est√°ndar
2. **Col√≥calo en la carpeta `tablas/`**
3. **Ejecuta el programa** - aparecer√° autom√°ticamente en el men√∫

#### Formato de Tabla Personalizada
```csv
# piso (0=blanco 1=l√≠nea), izq (P=pared|L=l√≠nea|.=blanco), cen, der, contacto (0=no|1=s√≠), accion1,accion2
0,P,.,.,0,AVANZAR
1,L,L,L,0,AVANZAR,ROTAR+90
```

### Tablas de Reglas Disponibles

#### 1. `percepcion-accion.csv` - Tabla Original
- **Comportamiento**: B√°sico, reactivo
- **Ventajas**: Simplicidad, f√°cil de entender
- **Desventajas**: Puede generar bucles infinitos
- **Uso recomendado**: Para aprendizaje y an√°lisis b√°sico

#### 2. `percepcion-accion2.csv` - Tabla Alternativa
- **Comportamiento**: Estrategia diferente de navegaci√≥n
- **Caracter√≠sticas**: Patrones de movimiento alternativos
- **Uso recomendado**: Para comparar diferentes enfoques de comportamiento

### Densidad de Obst√°culos

Modifica la variable `DENSITY` en `agente.py`:

```python
# L√≠nea 25 del archivo agente.py
DENSITY = 0.3  # 30% de probabilidad de obst√°culo por celda
```

**Valores recomendados:**
- `0.0` - Sin obst√°culos (solo paredes perimetrales)
- `0.2` - Pocos obst√°culos (mapa muy explorable)
- `0.3` - Densidad equilibrada (recomendado)
- `0.5` - Muchos obst√°culos (mapa complejo)
- `1.0` - M√°xima densidad (mapa muy dif√≠cil)

## üî¨ Funcionamiento T√©cnico

### Arquitectura del Agente

El agente implementa un **sistema reflejo simple** basado en reglas condici√≥n-acci√≥n:

1. **Percepci√≥n**: El agente percibe su entorno inmediato
2. **Decisi√≥n**: Busca una regla que coincida con la percepci√≥n
3. **Acci√≥n**: Ejecuta las acciones asociadas a la regla
4. **Repetici√≥n**: El ciclo se repite indefinidamente

### Sistema de Percepci√≥n

El agente percibe **5 elementos** de su entorno:

| Elemento | Descripci√≥n | Valores Posibles |
|----------|-------------|------------------|
| **Piso** | Estado de la celda actual | `0` (blanco), `1` (l√≠nea negra) |
| **Izquierda** | Celda a la izquierda | `P` (pared), `L` (l√≠nea), `.` (blanco) |
| **Centro** | Celda al frente | `P` (pared), `L` (l√≠nea), `.` (blanco) |
| **Derecha** | Celda a la derecha | `P` (pared), `L` (l√≠nea), `.` (blanco) |
| **Contacto** | Si choc√≥ en el √∫ltimo movimiento | `0` (no), `1` (s√≠) |

### Sistema de Acciones

El agente puede ejecutar **3 tipos de acciones**:

- **`AVANZAR`**: Mover una celda hacia adelante
- **`ROTAR+90`**: Girar 90¬∞ en sentido horario
- **`ROTAR-90`**: Girar 90¬∞ en sentido antihorario

### Formato de las Tablas CSV

Cada l√≠nea de la tabla CSV sigue el formato:
```
piso,izq,cen,der,contacto,accion1,accion2
```

**Ejemplo:**
```csv
0,P,.,.,0,AVANZAR
1,L,L,L,0,AVANZAR,ROTAR+90
```

### Representaci√≥n Visual

- **üî¥ C√≠rculo rojo**: Posici√≥n del agente
- **üîµ Flecha azul**: Orientaci√≥n del agente (N/E/S/W)
- **‚ö´ Cuadros negros**: Obst√°culos/l√≠neas
- **‚ö™ Cuadros blancos**: Espacios libres
- **üî≤ Cuadros grises**: Paredes perimetrales

### Panel de Informaci√≥n Mejorado

El panel lateral muestra informaci√≥n detallada con mejoras visuales:

- **Flechas direccionales**: La orientaci√≥n incluye flechas (N ‚Üë, E ‚Üí, S ‚Üì, W ‚Üê)
- **Informaci√≥n en tiempo real**: Posici√≥n, percepci√≥n, reglas aplicadas
- **Controles din√°micos**: Instrucciones actualizadas seg√∫n el modo
- **Tabla activa**: Muestra qu√© tabla de reglas se est√° usando

## üìä Archivos de Salida

El programa genera autom√°ticamente archivos CSV en la carpeta `salida/` con timestamp √∫nico:

### Formato del Archivo CSV

```csv
#,Pos,Orientaci√≥n,Piso,Izquierda,Centro,Derecha,Contacto,Regla,Acci√≥n,Nueva Pos,Nueva Orientaci√≥n
1,[5,7],^,0,P,.,.,0,#20,AVANZAR,[4,7],^
2,[4,7],^,0,P,L,.,0,#21,AVANZAR y ROTAR+90,[4,6],>
```

### Campos del CSV

| Campo | Descripci√≥n | Ejemplo |
|-------|-------------|---------|
| **#** | N√∫mero de iteraci√≥n | `1`, `2`, `3`... |
| **Pos** | Posici√≥n inicial | `[5,7]` |
| **Orientaci√≥n** | Orientaci√≥n inicial | `^` (Norte), `>` (Este), `v` (Sur), `<` (Oeste) |
| **Piso** | Estado de la celda actual | `0` (blanco), `1` (l√≠nea) |
| **Izquierda/Centro/Derecha** | Percepci√≥n lateral | `P` (pared), `L` (l√≠nea), `.` (blanco) |
| **Contacto** | Si choc√≥ | `0` (no), `1` (s√≠) |
| **Regla** | N√∫mero de regla aplicada | `#20`, `#21` |
| **Acci√≥n** | Acciones ejecutadas | `AVANZAR`, `AVANZAR y ROTAR+90` |
| **Nueva Pos** | Posici√≥n final | `[4,6]` |
| **Nueva Orientaci√≥n** | Orientaci√≥n final | `>` |

## üìù Ejemplos de Uso

### Ejemplo 1: An√°lisis B√°sico (Configuraci√≥n por Defecto)
```bash
# Ejecutar con configuraci√≥n por defecto
python agente.py
# Solo presionar ENTER tres veces:
# 1. ENTER ‚Üí Selecciona primera tabla
# 2. ENTER ‚Üí Selecciona mapa 11x11
# 3. ENTER ‚Üí Selecciona modo autom√°tico
# Observar comportamiento y revisar salida/salida-YYYYMMDD-HHMMSS.csv
```

### Ejemplo 2: Comparaci√≥n de Tablas
```bash
# Ejecutar el programa dos veces y seleccionar diferentes tablas:
python agente.py
# Primera ejecuci√≥n: Seleccionar tabla original
# Segunda ejecuci√≥n: Seleccionar tabla alternativa
# Comparar los archivos CSV generados
```

### Ejemplo 3: An√°lisis Paso a Paso
```bash
python agente.py
# Navegar con flechas ‚Üì para seleccionar:
# 1. ENTER ‚Üí Primera tabla
# 2. ‚Üì + ENTER ‚Üí Personalizado (9x9)
# 3. ‚Üì + ENTER ‚Üí Modo paso a paso
# Usar ENTER durante ejecuci√≥n para avanzar paso a paso
```

### Ejemplo 4: Mapas Complejos
```bash
# Editar agente.py l√≠nea 25: DENSITY = 0.5
python agente.py
# Seleccionar: 1 (Tabla Original), 3 (21x21), 1 (Autom√°tico)
```

## ‚ö†Ô∏è Limitaciones Conocidas

### Limitaciones del Agente Reflejo Simple

- **üîÑ Bucles Infinitos**: Sin memoria, puede repetir patrones indefinidamente
- **üó∫Ô∏è Cobertura Incompleta**: No garantiza exploraci√≥n del 100% del mapa
- **üß† Sin Memoria**: No recuerda posiciones visitadas anteriormente
- **üéØ Sin Objetivo**: No tiene metas espec√≠ficas, solo reacciona al entorno

### Limitaciones T√©cnicas

- **üìè Tama√±o de Ventana**: Mapas muy grandes pueden exceder la resoluci√≥n de pantalla
- **‚ö° Rendimiento**: Modo muy r√°pido puede ser dif√≠cil de seguir visualmente
- **üíæ Archivos CSV**: Se acumulan en la carpeta `salida/` (limpiar peri√≥dicamente)

## üí° Recomendaciones de Uso

### Para Aprendizaje
1. **Comienza con `percepcion-accion.csv`** - Comportamiento b√°sico
2. **Usa densidad baja (0.2-0.3)** - Mapas m√°s explorables
3. **Modo paso a paso** - Para entender cada decisi√≥n
4. **Mapas peque√±os (9x9)** - M√°s f√°cil de analizar

### Para Investigaci√≥n
1. **M√∫ltiples ejecuciones** - Analizar patrones de comportamiento
2. **Diferentes densidades** - Estudiar impacto de la complejidad
3. **Comparar tablas** - Evaluar efectividad de las reglas
4. **Revisar CSV** - An√°lisis cuantitativo del comportamiento

### Para Demostraciones
1. **Modo autom√°tico r√°pido** - Para audiencias
2. **Mapas medianos (15x15)** - Balance entre complejidad y claridad
3. **Densidad equilibrada (0.3)** - Comportamiento interesante sin ser ca√≥tico

## üîß Personalizaci√≥n Avanzada

### Crear Tu Propia Tabla de Reglas

1. **Copia una tabla existente**:
   ```bash
   cp tablas/percepcion-accion.csv tablas/mi-tabla.csv
   ```

2. **Edita las reglas** siguiendo el formato:
   ```csv
   piso,izq,cen,der,contacto,accion1,accion2
   ```

3. **Ejecuta el programa** - tu tabla aparecer√° autom√°ticamente en el men√∫ de selecci√≥n

### Modificar Par√°metros del Sistema

```python
# En agente.py
ROWS, COLS = 15, 15        # Tama√±o por defecto
CELL_SIZE = 50             # Tama√±o de celda en p√≠xeles
FPS = 60                   # Frames por segundo
STEP_DELAY = 0.1           # Delay entre pasos (modo paso a paso)
DENSITY = 0.3              # Densidad de obst√°culos
```

---

## üìù Nota de Desarrollo

Este proyecto fue desarrollado con el apoyo de **Inteligencia Artificial** mediante prompts, combinando conocimientos previos sobre **agentes inteligentes** y documentaci√≥n acad√©mica en el √°rea. El simulador est√° actualmente en **fase de mejora continua**, incorporando nuevas funcionalidades y optimizaciones basadas en feedback y an√°lisis de comportamiento.

### Metodolog√≠a de Desarrollo:
- ü§ñ **Asistencia de IA**: Desarrollo guiado por prompts especializados
- üìö **Base Te√≥rica**: Aplicaci√≥n de conceptos de agentes inteligentes
- üîÑ **Iterativo**: Mejoras continuas basadas en pruebas y an√°lisis
- üìñ **Documentado**: Referencias acad√©micas y estudios previos

---

**Desarrollado usando Python y Pygame**
